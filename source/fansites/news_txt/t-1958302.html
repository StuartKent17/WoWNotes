<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<div class="post"><div class="posttop"><div class="username">chaud</div><div class="date">2016-03-02, 11:35 PM</div></div><div class="posttext">Legion Alpha - Build 21215<br>
Another build is going out to the beta realm. <br>
<br>
<br>
http://media.mmo-champion.com/images/news/2016/march/thumb/newBuildBanner.jpg?v2 (http://media.mmo-champion.com/images/news/2016/march/newBuildBanner.jpg) <br>
<br>
In the upcoming Patch 6.2.4, we&apos;re moving to a new Battle.net infrastructure. There are changes to many of the Battle.net-related Lua APIs, including Battle.net friends and Battle.net chat. If you maintain an AddOn that makes use of those features, you may want to log in to the PTR and test that your AddOn still functions correctly. To help AddOn authors troubleshoot potential compatibility issues, we&#x2019;ve highlighted a few of the big changes to help direct you to areas that may need your attention.<br>
<br>
Conversations<br>
Support for conversations has been removed. This includes all C-functions (BNCreateConversation, BNGetConversationInfo, etc.) as well as all Lua/XML references to conversations.<br>
<br>
Toons<br>
The new Battle.net architecture doesn&#x2019;t have the concept of &#x201C;Toons&#x201D;. Instead, we refer to &#x201C;GameAccounts&#x201D;. As a result, many functions with &#x201C;Toon&#x201D; in the name now refer to &#x201C;GameAccount&#x201D;<br>
Examples:<br>
BNGetToonInfo -&gt; BNGetGameAccountInfo<br>
BNGetFriendToonInfo -&gt; BNGetFriendGameAccountInfo<br>
BNGetNumFriendToons -&gt; BNGetNumFriendGameAccounts<br>
<br>
Presence IDs<br>
Previously, &#x201C;Presence IDs&#x201D; could refer to either Battle.net accounts or individual toons. Most functions were able to accept either type of presence ID and, when passed the wrong type, tried to guess at what you were trying to do.<br>
<br>
Presence IDs have been replaced with bnetIDAccount and bnetIDGameAccount. With this change, we&#x2019;ve made all functions strict about whether they accept Account IDs or Game Account IDs. In order to make this easier, all Lua variables have been updated to specify which type of ID they are.<br>
<br>
You can translate from a bnetIDGameAccount to a bnetIDAccount as follows:<br>
bnetIDAccount = select(17, BNGetGameAccountInfo(bnetIDGameAccount));<br>
You can find a player&#x2019;s active bnetIDGameAccount from a bnetIDAccount as follows:<br>
bnetIDGameAccount = select(6, BNGetFriendInfoByID(bnetIDAccount));<br>
<br>
Current Realm Name<br>
The &#x201C;realmName&#x201D; CVar no longer exists. You can get the name of the current realm using GetRealmName().<br>
<br>
Do you mean GetRealmName(), the already-existing function? Or is this a new function that can (or must?) replace GetRealmName()?<br>
The &quot;realmName&quot; CVar is no longer there, but the function to get the name of the current realm is still GetRealmName. Correction made to the post, thanks for asking.</div></div>